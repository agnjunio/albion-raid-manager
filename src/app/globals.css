@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply text-primary-gray dark:text-white;
    @apply bg-white dark:bg-primary-gray;
    @apply font-sans font-normal text-base;
  }

  ::selection {
    @apply bg-secondary-violet-100 text-secondary-violet;
  }

  * {
    @apply outline-0 outline-offset-4 ring-0 outline-primary-yellow;

    &:focus-visible {
      @apply outline outline-1;
    }
  }
}

@layer components {
  button {
    @apply text-primary-gray dark:text-white text-base font-medium;
    @apply bg-primary-yellow hover:bg-primary-yellow-400 active:bg-primary-yellow-300;
    @apply px-4 py-2;
    @apply rounded;
    @apply flex items-center gap-x-2;

    &.btn-primary-yellow {
      @apply bg-primary-yellow hover:bg-primary-yellow-400 active:bg-primary-yellow-300;
    }

    &.btn-secondary-violet {
      @apply bg-secondary-violet hover:bg-secondary-violet-400 active:bg-secondary-violet-300;
    }

    svg {
      @apply size-6;
    }
  }

  a {
    @apply text-primary-gray dark:text-white text-base;
    @apply hover:text-primary-yellow;
    @apply transition-colors duration-500;
  }

  input[type="text"],
  input[type="password"],
  input[type="email"],
  input[type="number"],
  input[type="date"],
  select {
    @apply bg-primary-gray-300;
    @apply text-primary-gray placeholder:text-primary-gray-800/60 placeholder:text-sm;
    @apply rounded-lg border-0;
    @apply ring-2 ring-primary-gray-800;
    @apply font-mono text-base;
    @apply px-2 py-1;

    &:focus {
      @apply outline-none ring-primary-yellow;
    }
  }

  div[role="combobox"] {
    input {
      &:focus + button {
        @apply bg-primary-yellow hover:bg-primary-yellow-400 active:bg-primary-yellow-300;
      }
    }

    button {
      @apply absolute right-0 inset-y-0;
      @apply p-1;
      @apply rounded rounded-tl-none rounded-bl-none;
      @apply bg-secondary-violet hover:bg-secondary-violet-400 active:bg-secondary-violet-300;
    }
  }

  div[role="listbox"] {
    @apply w-[var(--input-width)] rounded-xl border border-primary-gray-50/15 bg-primary-gray-800 empty:invisible;
    @apply transition duration-100 ease-in data-[leave]:data-[closed]:opacity-0 mt-2;

    div[role="option"] {
      @apply cursor-default select-none;
      @apply rounded-xl;
      @apply px-2 py-1.5;
      @apply data-[focus]:bg-secondary-violet/90;

      &:not(:first-child) {
        @apply rounded-tl-none rounded-tr-none;
      }

      &:not(:last-child) {
        @apply rounded-bl-none rounded-br-none;
      }

      &[data-selected] {
        svg[role="img"] {
          @apply visible;
        }
      }

      svg[role="img"] {
        @apply invisible;
      }
    }
  }
}
